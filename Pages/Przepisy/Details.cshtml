@page
@model MajsterChef.Pages.Przepisy.DetailsModel
@{ ViewData["Title"] = "Szczegóły przepisu";
    Model.EntryID = Model.Przepis.ID;}
<h1>Szczegóły</h1>

<div>
    <h4>Przepis</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Przepis.Nazwa)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Przepis.Nazwa)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Przepis.Lista_skladnikow)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Przepis.Lista_skladnikow)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Przepis.Opis_wykonania)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Przepis.Opis_wykonania)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Przepis.Owner)
        </dt>
        <dd class="col-sm-10">
            @Model.UserName(Model.Przepis.Owner)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Przepis.Data_publikacji)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Przepis.Data_publikacji)
        </dd>
        @if (!string.IsNullOrWhiteSpace(User.Identity.Name))
        {
            <dt class="col-sm-2">
                Ocena
            </dt>
            <dd class="col-sm-10">

                <form runat="server" asp-route-returnUrl="@Model.ReturnUrl" method="post">
                    @if (Model.DisableDislike != "disable")
                    {
                        <div style="display:inline;float:left">
                            <button id="btnDislike"
                                    Text="-"
                                    type="submit"
                                    name="button"
                                    value="dislike"
                                    runat="server"
                                    height="auto"
                                    width="50px"
                                    BorderStyle="Outset"
                                    onclick="this.disabled = true;"
                                    disabled=@Model.DisableDislike
                                    asp-route-itemid="@Model.Przepis.ID"
                                    asp-page-handler="Dislike">
                                -
                            </button>&nbsp;

                        </div>
                    }
                    &nbsp; @Model.Score() &nbsp;
                    @if (Model.DisableLike != "disabled")
                    {
                        <div style="display:inline;float:left">
                            <button id="btnLike"
                                    Text="+"
                                    type="submit"
                                    value="like"
                                    name="button"
                                    runat="server"
                                    height="auto"
                                    width="50px"
                                    BorderStyle="Outset"
                                    onclick="this.disabled = true;"
                                    disabled=@Model.DisableLike
                                    asp-route-itemid="@Model.Przepis.ID"
                                    asp-page-handler="Like">
                                +
                            </button>
                        </div>
                    }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <div style="display:inline;float:left">
                        <button id="btnFav"
                                Text="Fav"
                                type="submit"
                                value="fav"
                                name="button"
                                runat="server"
                                height="auto"
                                width="50px"
                                BorderStyle="Outset"
                                onclick="this.disabled = true;"
                                disabled=@Model.DisableFavourite
                                asp-route-itemid="@Model.Przepis.ID"
                                asp-page-handler="Favourite">
                            Dodaj do ulubionych!
                        </button>
                    </div>
                </form>
            </dd>
            <dt class="col-sm-2">
                
            </dt>
            <dd class="col-sm-10">
                
            </dd>
        }
    </dl>
</div>
<div>
    <p>
        @if (Model.Przepis.Owner == User.Identity.Name)
        {<a asp-page="./Edit" asp-route-id="@Model.Przepis.ID">Edytuj przepis</a> <text>|</text>}
        <a asp-page="./Index">Wróć do listy</a>
    </p>
</div>
